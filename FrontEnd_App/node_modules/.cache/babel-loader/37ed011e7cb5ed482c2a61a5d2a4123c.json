{"ast":null,"code":"\"use strict\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\major-project\\\\FrontEnd_App\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport Web3 from 'web3';\nimport { SIMP_STORAGE_ADDRESS, SIMP_STORAGE_ABI } from './config.js';\nimport LoginPage from './LoginPage.js';\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport 'react-tabs/style/react-tabs.css';\nimport \"./App.css\";\nimport QrReader from 'react-qr-reader';\nimport { Col, Row, Card } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      result: 'No result'\n    };\n\n    this.handleScan = data => {\n      if (data) {\n        this.setState({\n          result: data,\n          msg: \"Scan Successful\",\n          dis: false\n        });\n      }\n    };\n\n    this.handleError = err => {\n      console.error(err);\n    };\n\n    this.state = {\n      account: \"No address associated\",\n      val: \"\",\n      result: \" \",\n      dis: true,\n      msg: \"Hold still!\",\n      msg2: \"\",\n      simpcontract: '',\n      value: \"\",\n      value2: \"\",\n      hash: \"\",\n      hash2: \"\",\n      isverify: \"\",\n      va: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.loadBlockchainData();\n    this.loadBlockchainData();\n  }\n\n  async loadBlockchainData() {\n    const web3 = new Web3(\"HTTP://127.0.0.1:7545\");\n    const simpstorage = new web3.eth.Contract(SIMP_STORAGE_ABI, SIMP_STORAGE_ADDRESS);\n    this.setState({\n      simpcontract: simpstorage\n    });\n    var msg = '';\n  }\n\n  async sign(web3, text, addr) {\n    await web3.eth.sign('0x' + this.toHex(text), addr).then(result => {\n      this.setState({\n        signature: result.substr(2)\n      });\n    });\n    this.state.r = this.state.signature.slice(0, 64);\n    this.state.s = this.state.signature.slice(64, 128);\n    this.state.v = this.state.signature.slice(128, 130); //this.state.v_dec=web3.utils.toDecimal(this.state.v)\n\n    console.log(this.state.signature);\n    console.log(this.state.r);\n    console.log(this.state.s);\n    console.log(this.state.v_dec);\n  }\n\n  async getHashQR(cnic, simpstorage) {\n    const value = await simpstorage.methods.calculateHash(cnic).call().then(res => {\n      this.setState({\n        hash: res\n      });\n    }); // this.setState({value: value})\n    // console.log(this.state.value)\n  }\n\n  async getHash(cnic, simpstorage) {\n    const value = await simpstorage.methods.calculateHash(cnic).call().then(res => {\n      this.setState({\n        hash2: res\n      });\n    });\n  }\n\n  parsePetitionList(str) {\n    // return str\n    var str2 = \"\";\n    var x = str.split(\",\");\n\n    for (var i = 0; i < x.length; i++) {\n      str2 += \"\\npetitioner: \";\n      str2 += x[i];\n      str2 += \"\\nname: \";\n      str2 += x[i + 1];\n      str2 += \", time: \";\n      str2 += x[i + 2];\n      str2 += \", votes: \";\n      str2 += x[i + 3];\n      str2 += \"\\n\";\n      i += parseInt(x[i + 3]);\n\n      if (parseInt(x[i + 3]) == 0) {\n        i++;\n      }\n\n      i += 3;\n      i++;\n      str2 += \"\\n\";\n    }\n\n    return str2;\n  }\n\n  toHex(str) {\n    var hex = '';\n\n    for (var i = 0; i < str.length; i++) {\n      hex += '' + str.charCodeAt(i).toString(16);\n    }\n\n    return hex;\n  }\n\n  async getUserData(id, simpstorage) {\n    const value = await simpstorage.methods.getVaccinationRecord(id.toString()).call({\n      from: this.state.account\n    }).catch(error => {\n      alert(\"User Vaccination record doesn't exist/ Not Authorized\");\n    });\n    console.log(value);\n\n    if (value != null) {\n      const val = this.parseUserData(value.toString());\n      this.setState({\n        value: val.toString()\n      });\n    } else {\n      this.setState({\n        value: \"not found\"\n      });\n    }\n  }\n\n  async getUserDataForOthers(id, simpstorage) {\n    const value = await simpstorage.methods.getVaccinationHash(id.toString()).call().catch(error => {\n      alert(\"User Vaccination record doesn't exist\");\n    });\n\n    if (value != null) {\n      this.setState({\n        value2: value\n      });\n\n      if (this.state.hash == this.state.value2) {\n        this.setState({\n          isverify: \"QR Verified with Blockchain\"\n        });\n      } else if (this.state.hash2 == this.state.value2) {\n        this.setState({\n          isverify: \"Hash Verified with Blockchain\"\n        });\n      } else {\n        this.setState({\n          isverify: \"Hash DOES NOT Verify with Blockchain\"\n        });\n      }\n    }\n  }\n\n  parseUserData(str) {\n    // return str\n    var str2 = \"\";\n    var x = str.split(\",\");\n\n    for (var i = 0; i < x.length; i++) {\n      if (i == 0) {\n        str2 += \"\\nCnic/id: \";\n        str2 += x[i];\n      } else if (i == 1) {\n        str2 += \"\\nUser_address: \";\n        str2 += x[i];\n      } else if (i == 2) {\n        str2 += \"\\nCountry: \";\n        str2 += x[i];\n      } else if (i == 3) {\n        str2 += \", Name: \";\n        str2 += x[i];\n      } else if (i == 4) {\n        str2 += \", Gender: \"; // str2 += x[i]\n\n        if (x[i] == \"false\") {\n          str2 += \"Male\";\n        } else if (x[i] == \"true\") {\n          str2 += \"Female\";\n        }\n      } else if (i == 5) {\n        str2 += \"\\nCreated by: \";\n        str2 += x[i];\n      } else if (i == 6) {\n        str2 += \"\\nHash: \";\n        str2 += x[i];\n      } else {\n        str2 += \"\\nVaccination: \";\n        str2 += x[i];\n        str2 += \",BatchID: \";\n        str2 += x[i + 1];\n        str2 += \"\\nAdded by: \";\n        str2 += x[i + 2];\n        str2 += \",AdministrationDate: \";\n        str2 += x[i + 3];\n        str2 += \", Location: \";\n        str2 += x[i + 4];\n        i += 4;\n      }\n    }\n\n    return str2;\n  }\n\n  async getPetitionData(simpstorage) {\n    const val = await simpstorage.methods.viewPetitions().call();\n    const val2 = this.parsePetitionList(val.toString());\n    this.setState({\n      petitions: val2\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    e.target.reset();\n  }\n\n  async getVAData(simpstorage) {\n    const value = await simpstorage.methods.getVaccinationAuthorities().call();\n    const val = this.parseList(value.toString());\n    this.setState({\n      va: val\n    });\n  }\n\n  async getmsg() {\n    this.setState({\n      msg2: \"Vote Casted\"\n    });\n  }\n\n  parseList(str) {\n    var str2 = '';\n\n    for (var i = 0; i < str.length; i++) {\n      if (str[i] == \",\") {\n        str2 += \"\\n\";\n      } else {\n        str2 += str[i];\n      }\n    }\n\n    return str2;\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-card\",\n        style: {\n          borderRadius: \"4rem\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Tabs, {\n          className: \"tabs\",\n          children: [/*#__PURE__*/_jsxDEV(TabList, {\n            style: {},\n            children: [/*#__PURE__*/_jsxDEV(Tab, {\n              children: \"Register user\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              children: \"Register Vaccination\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              children: \"Get Record\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              children: \"Get Hash/ Verify\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              children: \"Vote\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              children: \"Add Petition\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: this.props.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            style: {},\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \" Welcome! \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Enter Your Account Address: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: event => {\n                  event.preventDefault();\n                  const accNum = new FormData(event.target).get(\"accountNum\");\n                  this.state.account = accNum;\n                  this.setState({\n                    account: accNum\n                  });\n                  this.handleSubmit(event);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"acnum\",\n                  name: \"accountNum\",\n                  type: \"text\",\n                  placeholder: \"Account Address\",\n                  required: true,\n                  style: {\n                    borderRadius: \"1rem\",\n                    background: \"#ffffff\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"submit\",\n                  hidden: \"\",\n                  value: \"Use Address\",\n                  style: {\n                    width: \"8rem\",\n                    borderRadius: \"1rem\",\n                    background: \"#52D2EF\",\n                    marginLeft: \"1rem\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [\"Using Account at Address: \", this.props.username]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"REGISTERATION: Enter the following details:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: event => {\n                  event.preventDefault();\n                  const cnic = new FormData(event.target).get(\"cnic\");\n                  const name = new FormData(event.target).get('name');\n                  const countryName = new FormData(event.target).get('countryName');\n                  const gender = new FormData(event.target).get('gender');\n                  const addr = new FormData(event.target).get('addr');\n                  this.state.simpcontract.methods.registerUser(cnic, name, gender, countryName, addr).send({\n                    from: this.state.account,\n                    gas: 900000\n                  }).catch(error => {\n                    this.setState({\n                      err2: \"User already exists/only Authority is allowed to register\"\n                    });\n                  });\n                  this.loadBlockchainData();\n                  this.handleSubmit(event);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"cnic\",\n                  name: \"cnic\",\n                  type: \"text\",\n                  placeholder: \"Cnic/id\",\n                  required: true,\n                  style: {\n                    borderRadius: \"1rem\",\n                    background: \"#ffffff\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"name\",\n                  name: \"name\",\n                  type: \"text\",\n                  placeholder: \"Full name\",\n                  required: true,\n                  style: {\n                    borderRadius: \"1rem\",\n                    background: \"#ffffff\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"gender\",\n                  name: \"gender\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"1\",\n                    children: \"Gender\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"1\",\n                    children: \"Female\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"0\",\n                    children: \"Male\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"countryName\",\n                  name: \"countryName\",\n                  type: \"country\",\n                  placeholder: \"Country Name\",\n                  required: true,\n                  style: {\n                    borderRadius: \"1rem\",\n                    background: \"#ffffff\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"addr\",\n                  name: \"addr\",\n                  type: \"text\",\n                  placeholder: \" Address\",\n                  required: true,\n                  style: {\n                    borderRadius: \"1rem\",\n                    background: \"#ffffff\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"submit\",\n                  hidden: \"\",\n                  style: {\n                    width: \"8rem\",\n                    borderRadius: \"1rem\",\n                    background: \"#52D2EF\",\n                    marginLeft: \"1rem\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: this.state.err2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            style: {},\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \" Register Vaccination \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [\"Using Account at Address: \", this.state.account]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \" VACCINATION REGISTERATION: Enter the following details:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: event => {\n                  event.preventDefault();\n                  const cnic = new FormData(event.target).get(\"cnic\");\n                  const vacName = new FormData(event.target).get('vacName');\n                  const batchID = new FormData(event.target).get('batchID');\n\n                  const _location = new FormData(event.target).get('_location');\n\n                  const date = new FormData(event.target).get('date');\n                  console.log(cnic);\n                  console.log(vacName);\n                  console.log(batchID);\n                  console.log(_location);\n                  console.log(date);\n                  this.state.simpcontract.methods.addVaccination(cnic.toString(), vacName.toString(), batchID.toString(), _location.toString(), date.toString()).send({\n                    from: this.state.account,\n                    gas: 900000\n                  }).catch(error => {\n                    alert(\"Only Vaccination Authorities are allowed\");\n                  }); // Only Vaccination Authorities are allowed\n\n                  this.loadBlockchainData();\n                  this.handleSubmit(event);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"cnic\",\n                  name: \"cnic\",\n                  type: \"text\",\n                  placeholder: \"Cnic/id\",\n                  required: true,\n                  style: {\n                    borderRadius: \"1rem\",\n                    background: \"#ffffff\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"vacName\",\n                  name: \"vacName\",\n                  type: \"text\",\n                  placeholder: \"Vaccination name\",\n                  required: true,\n                  style: {\n                    borderRadius: \"1rem\",\n                    background: \"#ffffff\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"batchID\",\n                  name: \"batchID\",\n                  type: \"text\",\n                  placeholder: \"batchID\",\n                  required: true,\n                  style: {\n                    borderRadius: \"1rem\",\n                    background: \"#ffffff\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"_location\",\n                  name: \"_location\",\n                  type: \"text\",\n                  placeholder: \"location\",\n                  required: true,\n                  style: {\n                    borderRadius: \"1rem\",\n                    background: \"#ffffff\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"date\",\n                  name: \"date\",\n                  type: \"date\",\n                  placeholder: \"date\",\n                  required: true,\n                  style: {\n                    borderRadius: \"1rem\",\n                    background: \"#ffffff\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"submit\",\n                  hidden: \"\",\n                  style: {\n                    width: \"8rem\",\n                    borderRadius: \"1rem\",\n                    background: \"silver\",\n                    marginLeft: \"1rem\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            style: {},\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"Only Vaccination Authority/User\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [\"Using Account at Address: \", this.state.account]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: event => {\n                  event.preventDefault();\n                  const userId = new FormData(event.target).get(\"getName\");\n                  this.getUserData(userId, this.state.simpcontract); // this.loadBlockchainData()\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: \"getName\",\n                  name: \"getName\",\n                  placeholder: \"Cnic/id\",\n                  required: true,\n                  style: {\n                    borderRadius: \"1rem\",\n                    background: \"#ffffff\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"submit\",\n                  hidden: \"\",\n                  value: \"Get\",\n                  style: {\n                    width: \"8rem\",\n                    borderRadius: \"1rem\",\n                    background: \"#52D2EF\",\n                    marginLeft: \"1rem\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  whiteSpace: 'pre-wrap'\n                },\n                children: this.state.value\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: \"18rem\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            style: {},\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"sub-bg-card\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    paddingLeft: \"5vw\",\n                    marginRight: \"0vw\",\n                    width: \"55vw\",\n                    flex: 1\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"form\", {\n                    onSubmit: event => {\n                      event.preventDefault();\n                      this.getHashQR(this.state.result, this.state.simpcontract); // this.loadBlockchainData()\n\n                      console.log(\"here\");\n                      console.log(this.state.value);\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(QrReader, {\n                      id: \"data\",\n                      name: \"data\",\n                      delay: 300,\n                      onError: this.handleError,\n                      onScan: this.handleScan,\n                      style: {\n                        width: '30%'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 384,\n                      columnNumber: 19\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: this.state.msg\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 393,\n                      columnNumber: 19\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      disabled: this.state.dis,\n                      type: \"submit\",\n                      hidden: \"\",\n                      value: \"Hash\",\n                      style: {\n                        width: \"20%\",\n                        borderRadius: \"1rem\",\n                        background: \"#52D2EF\",\n                        marginLeft: \"1rem\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 394,\n                      columnNumber: 19\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 374,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    paddingRight: \"10vw\",\n                    width: \"0.2vw\",\n                    flex: 1\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: \"OR Enter the following details:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 400,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                    onSubmit: event => {\n                      event.preventDefault();\n                      const cnic = new FormData(event.target).get('cnic');\n                      this.getHash(cnic.toString(), this.state.simpcontract);\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      id: \"cnic\",\n                      name: \"cnic\",\n                      type: \"number\",\n                      placeholder: \"Cnic/id\",\n                      required: true,\n                      style: {\n                        borderRadius: \"1rem\",\n                        background: \"#ffffff\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 412,\n                      columnNumber: 19\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"submit\",\n                      hidden: \"\",\n                      style: {\n                        width: \"8rem\",\n                        borderRadius: \"1rem\",\n                        background: \"#52D2EF\",\n                        marginLeft: \"1rem\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 414,\n                      columnNumber: 19\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 402,\n                    columnNumber: 17\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 1\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"QR Hash:\", this.state.hash]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Hash: \", this.state.hash2]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 421,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Verify Results With Blockchain\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 422,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                  onSubmit: event => {\n                    event.preventDefault();\n                    const userId = new FormData(event.target).get(\"getName\");\n                    this.getUserDataForOthers(userId, this.state.simpcontract); // this.loadBlockchainData()\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"getName\",\n                    name: \"getName\",\n                    placeholder: \"Cnic/Id\",\n                    required: true,\n                    style: {\n                      borderRadius: \"1rem\",\n                      background: \"#ffffff\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"submit\",\n                    hidden: \"\",\n                    value: \"Get\",\n                    style: {\n                      width: \"8rem\",\n                      borderRadius: \"1rem\",\n                      background: \"#52D2EF\",\n                      marginLeft: \"1rem\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 17\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: this.state.isverify\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            style: {},\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"Vote for a Petition:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [\"Using Account at Address: \", this.state.account]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: event => {\n                  event.preventDefault();\n                  const addr = new FormData(event.target).get(\"addr\");\n                  this.state.simpcontract.methods.vote(addr).send({\n                    from: this.state.account,\n                    gas: 900000\n                  }).catch(error => {\n                    alert(\"You've already voted for them/n OR They're already added to authorities\");\n                  });\n                  this.getmsg();\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"addr\",\n                  name: \"addr\",\n                  type: \"text\",\n                  placeholder: \"enter address\",\n                  required: true,\n                  style: {\n                    borderRadius: \"1rem\",\n                    background: \"#ffffff\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"submit\",\n                  hidden: \"\",\n                  style: {\n                    width: \"8rem\",\n                    borderRadius: \"1rem\",\n                    background: \"#52D2EF\",\n                    marginLeft: \"1rem\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 455,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: this.state.msg2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: \"view all Vaccination Authorities:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                  onSubmit: event => {\n                    event.preventDefault();\n                    this.getVAData(this.state.simpcontract);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"submit\",\n                    hidden: \"\",\n                    value: \"view all VAs\",\n                    style: {\n                      width: \"8rem\",\n                      borderRadius: \"1rem\",\n                      background: \"#52D2EF\",\n                      marginLeft: \"1rem\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 467,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 461,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: this.state.va\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 469,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: \"18rem\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"Register as Vaccinaton Authority:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [\"Using Account at Address: \", this.state.account]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"click to submit petition:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: event => {\n                  event.preventDefault();\n                  const domainName = new FormData(event.target).get(\"domainName\");\n                  const name = new FormData(event.target).get(\"name\");\n                  this.setState({\n                    err: \"Done!\"\n                  });\n                  this.state.simpcontract.methods.submitPetition(name).send({\n                    from: this.state.account,\n                    gas: 900000\n                  }).catch(error => {\n                    this.setState({\n                      err: \"You already have a pending a petition\"\n                    });\n                  });\n                  this.loadBlockchainData();\n                  this.handleSubmit(event);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"name\",\n                  name: \"name\",\n                  type: \"text\",\n                  placeholder: \"enter name\",\n                  required: true,\n                  style: {\n                    borderRadius: \"1rem\",\n                    background: \"#ffffff\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 496,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"submit\",\n                  hidden: \"\",\n                  style: {\n                    width: \"8rem\",\n                    borderRadius: \"1rem\",\n                    background: \"#52D2EF\",\n                    marginLeft: \"1rem\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 498,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: this.state.err\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: \"view all petitions:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                  onSubmit: event => {\n                    event.preventDefault();\n                    this.getPetitionData(this.state.simpcontract);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"submit\",\n                    hidden: \"\",\n                    value: \"view petitions\",\n                    style: {\n                      width: \"8rem\",\n                      borderRadius: \"1rem\",\n                      background: \"#52D2EF\",\n                      marginLeft: \"1rem\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 512,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 504,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                  style: {\n                    whiteSpace: 'pre-wrap'\n                  },\n                  children: this.state.petitions\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 514,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/DELL/Desktop/major-project/FrontEnd_App/src/App.js"],"names":["React","Component","Web3","SIMP_STORAGE_ADDRESS","SIMP_STORAGE_ABI","LoginPage","Tab","Tabs","TabList","TabPanel","QrReader","Col","Row","Card","App","constructor","state","result","handleScan","data","setState","msg","dis","handleError","err","console","error","account","val","msg2","simpcontract","value","value2","hash","hash2","isverify","va","componentDidMount","loadBlockchainData","web3","simpstorage","eth","Contract","sign","text","addr","toHex","then","signature","substr","r","slice","s","v","log","v_dec","getHashQR","cnic","methods","calculateHash","call","res","getHash","parsePetitionList","str","str2","x","split","i","length","parseInt","hex","charCodeAt","toString","getUserData","id","getVaccinationRecord","from","catch","alert","parseUserData","getUserDataForOthers","getVaccinationHash","getPetitionData","viewPetitions","val2","petitions","handleSubmit","e","preventDefault","target","reset","getVAData","getVaccinationAuthorities","parseList","getmsg","render","borderRadius","props","username","event","accNum","FormData","get","background","width","marginLeft","name","countryName","gender","registerUser","send","gas","err2","vacName","batchID","_location","date","addVaccination","userId","whiteSpace","marginTop","paddingLeft","marginRight","flex","paddingRight","vote","domainName","submitPetition"],"mappings":"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","sourcesContent":["\"use strict\";\r\nimport React, {Component} from 'react';\r\nimport Web3 from 'web3'\r\nimport {SIMP_STORAGE_ADDRESS, SIMP_STORAGE_ABI} from './config.js'\r\nimport LoginPage from './LoginPage.js';\r\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\r\nimport 'react-tabs/style/react-tabs.css';\r\nimport \"./App.css\"\r\nimport QrReader from 'react-qr-reader'\r\nimport { Col,Row,Card } from 'react-bootstrap';\r\n\r\n\r\nclass App extends Component {\r\n  state = {\r\n    result: 'No result'\r\n  }\r\n\r\n  handleScan = data => {\r\n    if (data) {\r\n      this.setState({\r\n        result: data,\r\n        msg: \"Scan Successful\",\r\n        dis: false\r\n      })\r\n    }\r\n  }\r\n  handleError = err => {\r\n    console.error(err)\r\n  }\r\n\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      account:\"No address associated\",\r\n      val:\"\",\r\n      result: \" \",\r\n      dis: true,\r\n      msg: \"Hold still!\",\r\n      msg2: \"\",\r\n      simpcontract: '',\r\n      value:\"\",\r\n      value2:\"\",\r\n      hash:\"\",\r\n      hash2:\"\",\r\n      isverify:\"\",\r\n      va:\"\"\r\n    }\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadBlockchainData()\r\n    this.loadBlockchainData()\r\n  }\r\n\r\n  async loadBlockchainData() {\r\n    const web3 = new Web3(\"HTTP://127.0.0.1:7545\")\r\n    const simpstorage = new web3.eth.Contract(SIMP_STORAGE_ABI, SIMP_STORAGE_ADDRESS);\r\n    this.setState({simpcontract: simpstorage})\r\n\r\n    var msg = '';\r\n\r\n  }\r\n\r\n  async sign(web3, text, addr) {\r\n    await web3.eth.sign('0x' + this.toHex(text), addr).then(result => {\r\n      this.setState({\r\n        signature: result.substr(2)\r\n      })\r\n    })\r\n    this.state.r = this.state.signature.slice(0, 64)\r\n    this.state.s = this.state.signature.slice(64, 128)\r\n    this.state.v = this.state.signature.slice(128, 130)\r\n    //this.state.v_dec=web3.utils.toDecimal(this.state.v)\r\n    console.log(this.state.signature)\r\n    console.log(this.state.r)\r\n    console.log(this.state.s)\r\n    console.log(this.state.v_dec)\r\n\r\n  }\r\n\r\n  async getHashQR(cnic, simpstorage) {\r\n\r\n    const value = await simpstorage.methods.calculateHash(cnic).call().then(res => {\r\n      this.setState({hash: res})\r\n    })\r\n\r\n    // this.setState({value: value})\r\n    // console.log(this.state.value)\r\n  }\r\n  async getHash(cnic, simpstorage) {\r\n    const value = await simpstorage.methods.calculateHash(cnic).call().then(res => {\r\n    this.setState({hash2: res})\r\n  })\r\n}\r\n  parsePetitionList(str){\r\n    // return str\r\n    var str2=\"\"\r\n    var x= str.split(\",\")\r\n    for(var i=0;i<x.length;i++){\r\n\r\n      str2+=\"\\npetitioner: \"\r\n      str2+=x[i]\r\n\r\n      str2+=\"\\nname: \"\r\n      str2+=x[i+1]\r\n\r\n      str2+=\", time: \"\r\n      str2+=x[i+2]\r\n\r\n      str2+=\", votes: \"\r\n      str2+=x[i+3]\r\n      str2+=\"\\n\"\r\n      i+=parseInt(x[i+3])\r\n      if (parseInt(x[i+3])==0){i++}\r\n      i+=3\r\n      i++\r\n      str2+=\"\\n\"\r\n\r\n    }\r\n    return str2;\r\n\r\n  }\r\n\r\n  toHex(str) {\r\n    var hex = ''\r\n    for(var i=0;i<str.length;i++) {\r\n      hex += ''+str.charCodeAt(i).toString(16)\r\n    }\r\n    return hex\r\n  }\r\n\r\n  async getUserData(id, simpstorage){\r\n    const value = await simpstorage.methods.getVaccinationRecord(id.toString()).call({from: this.state.account}).catch((error) => {alert(\"User Vaccination record doesn't exist/ Not Authorized\")})\r\n    console.log(value)\r\n\r\n    if( value!=null) {\r\n      const val=this.parseUserData(value.toString())\r\n      this.setState({value: val.toString()})\r\n    }\r\n    else{\r\n      this.setState({value: \"not found\"})\r\n    }\r\n  }\r\n  async getUserDataForOthers(id, simpstorage){\r\n    const value = await simpstorage.methods.getVaccinationHash(id.toString()).call().catch((error) => {alert(\"User Vaccination record doesn't exist\")})\r\n\r\n    if( value!=null) {\r\n      this.setState({value2: value})\r\n      if(this.state.hash==this.state.value2 ){\r\n        this.setState({isverify: \"QR Verified with Blockchain\"})\r\n\r\n      }\r\n      else if(this.state.hash2==this.state.value2){\r\n        this.setState({isverify: \"Hash Verified with Blockchain\"})\r\n      }\r\n      else{\r\n        this.setState({isverify: \"Hash DOES NOT Verify with Blockchain\"})\r\n      }\r\n    }\r\n  }\r\n  parseUserData(str){\r\n    // return str\r\n    var str2=\"\"\r\n    var x= str.split(\",\")\r\n    for(var i=0;i<x.length;i++) {\r\n      if (i  == 0) {\r\n        str2 += \"\\nCnic/id: \"\r\n        str2 += x[i]\r\n      } else if (i == 1) {\r\n        str2 += \"\\nUser_address: \"\r\n        str2 += x[i]\r\n      } else if (i == 2) {\r\n        str2 += \"\\nCountry: \"\r\n        str2 += x[i]\r\n      } else if (i  == 3) {\r\n        str2 += \", Name: \"\r\n        str2 += x[i]\r\n      } else if (i == 4) {\r\n        str2 += \", Gender: \"\r\n        // str2 += x[i]\r\n        if(x[i]==\"false\"){str2 += \"Male\"}\r\n        else if(x[i]==\"true\"){str2 += \"Female\"}\r\n      }\r\n      else if (i == 5) {\r\n        str2 += \"\\nCreated by: \"\r\n        str2 += x[i]\r\n      } else if (i == 6) {\r\n        str2 += \"\\nHash: \"\r\n        str2 += x[i]\r\n\r\n      }\r\n  else{\r\n\r\n        str2 += \"\\nVaccination: \"\r\n        str2+=x[i]\r\n        str2 += \",BatchID: \"\r\n        str2+=x[i+1]\r\n        str2 += \"\\nAdded by: \"\r\n        str2+=x[i+2]\r\n        str2 += \",AdministrationDate: \"\r\n        str2+=x[i+3]\r\n        str2 += \", Location: \"\r\n        str2+=x[i+4]\r\n        i+=4\r\n\r\n      }\r\n    }\r\n\r\n    return str2;\r\n\r\n  }\r\n  async getPetitionData( simpstorage){\r\n    const val = await simpstorage.methods.viewPetitions().call()\r\n    const val2=this.parsePetitionList(val.toString())\r\n    this.setState({ petitions:val2   })\r\n  }\r\n\r\n  handleSubmit(e){\r\n    e.preventDefault();\r\n    e.target.reset();\r\n  }\r\n  async getVAData( simpstorage){\r\n    const value = await simpstorage.methods.getVaccinationAuthorities().call()\r\n    const val = this.parseList(value.toString())\r\n    this.setState({ va: val })\r\n  }\r\n  async getmsg( ){\r\n    this.setState({ msg2: \"Vote Casted\"})\r\n  }\r\n  parseList(str){\r\n    var str2 = ''\r\n    for(var i=0;i<str.length;i++) {\r\n      if (str[i]==\",\") {\r\n        str2 += \"\\n\"\r\n      }\r\n      else{\r\n        str2 += str[i]\r\n      }\r\n    }\r\n    return str2\r\n  }\r\n  render() {\r\n    return (\r\n\r\n          <div className=\"App-header\">\r\n            <div className=\"bg-card\" style={{borderRadius:\"4rem\"}}>\r\n\r\n              {/*<div className=\"image\">*/}\r\n              {/*<img className=\"image\" src=\"./image.jpg\" style={{borderRadius: '90rem',width:\"20rem\",height:\"25rem\"}}/>\r\n              {/*</div>*/}\r\n              {/*<div className=\"tabs\">*/}\r\n              <Tabs className=\"tabs\">\r\n\r\n          <TabList style={{}}>\r\n            <Tab>Register user</Tab>\r\n            <Tab>Register Vaccination</Tab>\r\n            <Tab>Get Record</Tab>\r\n            <Tab>Get Hash/ Verify</Tab>\r\n            <Tab>Vote</Tab>\r\n            <Tab>Add Petition</Tab>\r\n      <h1>{this.props.username}</h1>\r\n            </TabList>\r\n\r\n          <TabPanel style={{}}>\r\n          {/*  // function registerUser(string memory _id, string memory _name, bool _gender, string memory _nationality,*/}\r\n          {/*//  address _user_address) public onlyVaccinationAuthority{*/}\r\n            <div>\r\n              <h1> Welcome! </h1>\r\n\r\n              <p>Enter Your Account Address: </p>\r\n              <form onSubmit={(event) => {\r\n                event.preventDefault()\r\n                const accNum = new FormData(event.target).get(\"accountNum\");\r\n                this.state.account=accNum;\r\n                this.setState({account:accNum})\r\n                this.handleSubmit(event)\r\n              }}>\r\n                <input id=\"acnum\" name=\"accountNum\" type=\"text\" placeholder='Account Address' required style={{borderRadius:\"1rem\",background:\"#ffffff\"}}/>\r\n                <input type=\"submit\" hidden=\"\" value=\"Use Address\" style={{width:\"8rem\",borderRadius:\"1rem\",background:\"#52D2EF\",marginLeft:\"1rem\"}} />\r\n              </form>\r\n              <h4>Using Account at Address: {this.props.username}</h4>\r\n              <p>REGISTERATION: Enter the following details:</p>\r\n\r\n              <form onSubmit={(event) => {\r\n                event.preventDefault()\r\n\r\n                const cnic = new FormData(event.target).get(\"cnic\");\r\n                const name = new FormData(event.target).get('name');\r\n                const countryName = new FormData(event.target).get('countryName');\r\n                const gender = new FormData(event.target).get('gender');\r\n                const addr = new FormData(event.target).get('addr');\r\n\r\n\r\n                this.state.simpcontract.methods.registerUser(cnic,name,gender,countryName,addr).send({ from: this.state.account, gas:900000 }).catch((error) => {\r\n                  this.setState({ err2:\"User already exists/only Authority is allowed to register\"})} )\r\n                this.loadBlockchainData()\r\n                this.handleSubmit(event)\r\n              }} >\r\n                <input id=\"cnic\" name =\"cnic\" type=\"text\" placeholder=\"Cnic/id\" required style={{borderRadius:\"1rem\",background:\"#ffffff\"}} />\r\n                <input id=\"name\" name =\"name\" type=\"text\" placeholder= \"Full name\" required style={{borderRadius:\"1rem\",background:\"#ffffff\"}}  />\r\n                {/*<input id=\"gender\" name =\"gender\" type=\"radio\" placeholder=\"gender\" required style={{borderRadius:\"1rem\",background:\"#ffffff\"}}  />*/}\r\n                <select  id=\"gender\" name =\"gender\">\r\n                  <option  value=\"1\">Gender</option>\r\n                  <option value=\"1\">Female</option>\r\n                  <option value=\"0\">Male</option>\r\n                </select>\r\n                <input id=\"countryName\" name =\"countryName\" type=\"country\" placeholder= \"Country Name\" required style={{borderRadius:\"1rem\",background:\"#ffffff\"}}  />\r\n                <input id=\"addr\" name =\"addr\" type=\"text\" placeholder=\" Address\" required style={{borderRadius:\"1rem\",background:\"#ffffff\"}}  />\r\n                <input type=\"submit\" hidden=\"\"  style={{width:\"8rem\",borderRadius:\"1rem\",background:\"#52D2EF\",marginLeft:\"1rem\"}} />\r\n              </form>\r\n              <p>{this.state.err2}</p>\r\n            </div>\r\n              </TabPanel>\r\n          <TabPanel style={{}}>\r\n                  {/*function addVaccination(string memory user_id, string memory _vacName, string memory _batchID, string memory location, string memory date) public onlyVaccinationAuthority{*/}\r\n\r\n                  <div>\r\n                    <h1> Register Vaccination </h1>\r\n                    <h4>Using Account at Address: {this.state.account}</h4>\r\n                    <p> VACCINATION REGISTERATION: Enter the following details:</p>\r\n\r\n                    <form onSubmit={(event) => {\r\n                      event.preventDefault()\r\n\r\n                      const cnic = new FormData(event.target).get(\"cnic\");\r\n                      const vacName = new FormData(event.target).get('vacName');\r\n                      const batchID = new FormData(event.target).get('batchID');\r\n                      const _location= new FormData(event.target).get('_location');\r\n                      const date = new FormData(event.target).get('date');\r\n                      console.log(cnic)\r\n                      console.log(vacName)\r\n                      console.log(batchID)\r\n                      console.log(_location)\r\n                      console.log(date)\r\n                      this.state.simpcontract.methods.addVaccination(cnic.toString(),vacName.toString(),batchID.toString(),_location.toString(),date.toString()).send({ from: this.state.account, gas:900000 }).catch((error) => {\r\n                        alert(\"Only Vaccination Authorities are allowed\")})\r\n                      // Only Vaccination Authorities are allowed\r\n                      this.loadBlockchainData()\r\n                      this.handleSubmit(event)\r\n                    }} >\r\n                      <input id=\"cnic\" name =\"cnic\" type=\"text\" placeholder=\"Cnic/id\" required style={{borderRadius:\"1rem\",background:\"#ffffff\"}} />\r\n                      <input id=\"vacName\" name =\"vacName\" type=\"text\" placeholder= \"Vaccination name\" required style={{borderRadius:\"1rem\",background:\"#ffffff\"}}  />\r\n                      <input id=\"batchID\" name =\"batchID\" type=\"text\" placeholder= \"batchID\" required style={{borderRadius:\"1rem\",background:\"#ffffff\"}}  />\r\n                      <input id=\"_location\" name =\"_location\" type=\"text\" placeholder=\"location\" required style={{borderRadius:\"1rem\",background:\"#ffffff\"}}  />\r\n                      <input id=\"date\" name =\"date\" type=\"date\" placeholder=\"date\" required style={{borderRadius:\"1rem\",background:\"#ffffff\"}}  />\r\n                      <input type=\"submit\" hidden=\"\"  style={{width:\"8rem\",borderRadius:\"1rem\",background:\"silver\",marginLeft:\"1rem\"}} />\r\n                    </form>\r\n                  </div>\r\n                </TabPanel>\r\n          <TabPanel style={{}}>\r\n                  <div>\r\n                    <h1>Only Vaccination Authority/User</h1>\r\n                    <h4>Using Account at Address: {this.state.account}</h4>\r\n                    <form onSubmit={(event) => {\r\n                      event.preventDefault()\r\n                      const userId = new FormData(event.target).get(\"getName\");\r\n                      this.getUserData(userId, this.state.simpcontract)\r\n                      // this.loadBlockchainData()\r\n                    }}>\r\n                      <input type=\"text\" id=\"getName\" name=\"getName\" placeholder=\"Cnic/id\"required style={{borderRadius:\"1rem\",background:\"#ffffff\"}}/>\r\n                      <input type=\"submit\" hidden=\"\" value=\"Get\" style={{width:\"8rem\",borderRadius:\"1rem\",background:\"#52D2EF\",marginLeft:\"1rem\"}}/>\r\n                    </form>\r\n                    <p style={{whiteSpace: 'pre-wrap'}}>{this.state.value}</p>\r\n\r\n                  </div>\r\n                  <div style={{marginTop:\"18rem\"}}></div>\r\n          </TabPanel>\r\n          <TabPanel style={{}}>\r\n            <div>\r\n<div className=\"sub-bg-card\">\r\n\r\n              <div  style={{paddingLeft:\"5vw\",marginRight:\"0vw\",width:\"55vw\",flex:1}}>\r\n                <form onSubmit={(event) => {\r\n                  event.preventDefault()\r\n                  this.getHashQR(this.state.result, this.state.simpcontract)\r\n                  // this.loadBlockchainData()\r\n                  console.log(\"here\")\r\n                  console.log(this.state.value)\r\n\r\n                }}>\r\n                  {/*<input type=\"text\" id=\"getName\" name=\"getName\" placeholder=\"Domain Name\"required style={{borderRadius:\"1rem\",background:\"#ffffff\"}}/>*/}\r\n\r\n                  <QrReader\r\n                      id=\"data\"\r\n                      name=\"data\"\r\n                      delay={300}\r\n                      onError={this.handleError}\r\n                      onScan={this.handleScan}\r\n\r\n                      style={{ width: '30%' }}\r\n                  />\r\n                  <p>{this.state.msg}</p>\r\n                  <input disabled={this.state.dis} type=\"submit\" hidden=\"\" value=\"Hash\" style={{width:\"20%\",borderRadius:\"1rem\",background:\"#52D2EF\",marginLeft:\"1rem\"}}/>\r\n\r\n                </form>\r\n\r\n              </div>\r\n              <div  style={{paddingRight:\"10vw\",width:\"0.2vw\",flex:1}}>\r\n                <h3>OR Enter the following details:</h3>\r\n\r\n                <form onSubmit={(event) => {\r\n                  event.preventDefault()\r\n\r\n\r\n                  const cnic = new FormData(event.target).get('cnic');\r\n\r\n\r\n                  this.getHash(cnic.toString(), this.state.simpcontract)\r\n\r\n                }} >\r\n                  <input id=\"cnic\" name =\"cnic\" type=\"number\" placeholder= \"Cnic/id\" required style={{borderRadius:\"1rem\",background:\"#ffffff\"}}  />\r\n\r\n                  <input type=\"submit\" hidden=\"\"  style={{width:\"8rem\",borderRadius:\"1rem\",background:\"#52D2EF\",marginLeft:\"1rem\"}} />\r\n                </form>\r\n\r\n              </div>\r\n</div>\r\n            <div>\r\n              <p>QR Hash:{this.state.hash}</p>\r\n              <p>Hash: {this.state.hash2}</p>\r\n              <h3>Verify Results With Blockchain</h3>\r\n              <form onSubmit={(event) => {\r\n                event.preventDefault()\r\n                const userId = new FormData(event.target).get(\"getName\");\r\n                this.getUserDataForOthers(userId, this.state.simpcontract)\r\n                // this.loadBlockchainData()\r\n              }}>\r\n                <input type=\"text\" id=\"getName\" name=\"getName\" placeholder=\"Cnic/Id\"required style={{borderRadius:\"1rem\",background:\"#ffffff\"}}/>\r\n                <input type=\"submit\" hidden=\"\" value=\"Get\" style={{width:\"8rem\",borderRadius:\"1rem\",background:\"#52D2EF\",marginLeft:\"1rem\"}}/>\r\n              </form>\r\n            </div>\r\n              <p>{this.state.isverify}</p>\r\n\r\n</div>\r\n\r\n            {/*<div style={{marginTop:\"20rem\"}}></div>*/}\r\n\r\n          </TabPanel>\r\n          <TabPanel style={{}}>\r\n            <div>\r\n              <h1>Vote for a Petition:</h1>\r\n              <h4>Using Account at Address: {this.state.account}</h4>\r\n\r\n              <form onSubmit={(event) => {\r\n                event.preventDefault()\r\n\r\n                const addr = new FormData(event.target).get(\"addr\");\r\n\r\n                this.state.simpcontract.methods.vote(addr).send({ from: this.state.account, gas:900000 }).catch((error) => {\r\n                  alert(\"You've already voted for them/n OR They're already added to authorities\")})\r\n                this.getmsg()\r\n              }} >\r\n                <input id=\"addr\" name =\"addr\" type=\"text\" placeholder=\"enter address\" required style={{borderRadius:\"1rem\",background:\"#ffffff\"}}  />\r\n                <input type=\"submit\" hidden=\"\"  style={{width:\"8rem\",borderRadius:\"1rem\",background:\"#52D2EF\",marginLeft:\"1rem\"}} />\r\n              </form>\r\n              <p>{this.state.msg2}</p>\r\n              {/*see VAs*/}\r\n              <div>\r\n                <h5>view all Vaccination Authorities:</h5>\r\n                <form onSubmit={(event) => {\r\n                  event.preventDefault()\r\n                  this.getVAData(this.state.simpcontract)\r\n\r\n\r\n                }}>\r\n                  <input type=\"submit\" hidden=\"\" value=\"view all VAs\" style={{width:\"8rem\",borderRadius:\"1rem\",background:\"#52D2EF\",marginLeft:\"1rem\"}}/>\r\n                </form>\r\n                <p>{this.state.va}</p>\r\n              </div>\r\n\r\n            </div>\r\n\r\n            <div style={{marginTop:\"18rem\"}}></div>\r\n          </TabPanel>\r\n          <TabPanel>\r\n              <div>\r\n                <h1>Register as Vaccinaton Authority:</h1>\r\n                <h4>Using Account at Address: {this.state.account}</h4>\r\n                <p>click to submit petition:</p>\r\n\r\n                <form onSubmit={(event) => {\r\n                  event.preventDefault()\r\n\r\n                  const domainName = new FormData(event.target).get(\"domainName\");\r\n                  const name = new FormData(event.target).get(\"name\");\r\n                  this.setState({ err:\"Done!\"})\r\n                  this.state.simpcontract.methods.submitPetition(name).send({ from: this.state.account, gas:900000 }).catch((error) => {\r\n                    this.setState({ err:\"You already have a pending a petition\"})\r\n\r\n                  });\r\n\r\n                  this.loadBlockchainData()\r\n                  this.handleSubmit(event)\r\n                }} >\r\n                  <input id=\"name\" name =\"name\" type=\"text\" placeholder=\"enter name\" required style={{borderRadius:\"1rem\",background:\"#ffffff\"}}  />\r\n\r\n                  <input type=\"submit\" hidden=\"\"  style={{width:\"8rem\",borderRadius:\"1rem\",background:\"#52D2EF\",marginLeft:\"1rem\"}} />\r\n                </form>\r\n                <p>{this.state.err}</p>\r\n                {/*see petitions*/}\r\n                <div>\r\n                  <h5>view all petitions:</h5>\r\n                  <form onSubmit={(event) => {\r\n                    event.preventDefault()\r\n\r\n                    this.getPetitionData(this.state.simpcontract)\r\n\r\n\r\n                  }}>\r\n\r\n                    <input type=\"submit\" hidden=\"\" value=\"view petitions\" style={{width:\"8rem\",borderRadius:\"1rem\",background:\"#52D2EF\",marginLeft:\"1rem\"}}/>\r\n                  </form>\r\n                  <text style={{whiteSpace: 'pre-wrap'}}>{this.state.petitions}</text>\r\n                </div>\r\n              </div>\r\n\r\n          </TabPanel>\r\n        </Tabs>\r\n\r\n      </div>\r\n\r\n\r\n        </div>\r\n\r\n    );\r\n  }\r\n}\r\nexport default App;"]},"metadata":{},"sourceType":"module"}